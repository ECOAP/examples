[{"id":"ef5bf96.f10a408","type":"tab","label":"Flow 1"},{"id":"d3cba517.7da4e","type":"zmq-reader","z":"ef5bf96.f10a408","name":"WishfulReader","mode":"sub","uri":"tcp://127.0.0.1:8990","server":false,"topics":"SpectralScanSampleEvent","x":213,"y":125,"wires":[["ddfcfcf6.07a5a"]]},{"id":"ddfcfcf6.07a5a","type":"function","z":"ef5bf96.f10a408","name":"extract payload from event","func":"var data = JSON.parse(msg.payload[2]);\n\nmsg.payload = data.sample\n\nreturn msg;","outputs":1,"noerr":0,"x":538,"y":125,"wires":[["8553f261.f5098"]]},{"id":"827885a7.37ab88","type":"comment","z":"ef5bf96.f10a408","name":"Subscribe SpectralScanSampleEvent","info":"","x":224,"y":76,"wires":[]},{"id":"20f43dc8.414552","type":"zmq-writer","z":"ef5bf96.f10a408","name":"WishfulWriter","mode":"pub","uri":"tcp://127.0.0.1:8989","server":false,"x":785,"y":308,"wires":[]},{"id":"8b85f74e.959248","type":"function","z":"ef5bf96.f10a408","name":"create event","func":"var data = {'avg': msg.payload}\n\nmsg.payload = ['AveragedSpectrumScanSampleEvent','HAS TO HAVE 3 fields!', JSON.stringify(data)];\n\nreturn msg;","outputs":1,"noerr":0,"x":471,"y":308,"wires":[["20f43dc8.414552"]]},{"id":"7543f8ff.405de","type":"comment","z":"ef5bf96.f10a408","name":"Publish AveragedSpectrumScanSampleEvent","info":"","x":825,"y":258,"wires":[]},{"id":"8553f261.f5098","type":"smooth","z":"ef5bf96.f10a408","name":"moving average","action":"mean","count":"10","round":"","x":808.5,"y":125,"wires":[["8b85f74e.959248","6ed47488.912b8c"]]},{"id":"6ed47488.912b8c","type":"debug","z":"ef5bf96.f10a408","name":"debug","active":true,"console":"false","complete":"true","x":1093,"y":80,"wires":[]}]